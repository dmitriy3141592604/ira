
DSL
========================

Под DSL я понимаю набор артефактов предметной области совмещенных с операциями,
которые над этими артефактами могут выполнятся.

DSL представляется в виде набора интерфейсов с помощью которых можно построить
модель конечного продукта, и не может самостоятельно порождать какие либо
атрефакты.

DSL никак не связан с моделью при своем определении, и существует независимо от
нее.

Declarator
========================

Declarator декларирует шаги построения модели. Никаких действий он не
совершает, а только предоставляет возможность описать целевую модель на DSL.

Declarator полностью зависим от DSL.

Дополнительной зависимостью Declarator является DefinitionListener.

Входными данными для Declorator является корневой узел модели, из которого
будет происходить ее рост и ModelBuilder, который должен предоставлять
реализацию интерфейсов на каждом шаге построения модели.

DefinitionListener
========================

DefinitionListener является интерфейсом для Declarator и производит
преобразование шагов построения модели списку последовательных событий выхова
методов DSL. 

Основной задачей DefinitionListener является передача событий заинтересованным
DefinitionProcessor's. Для этого он должен обладать способностью передавать
события другим слушателям, а так же поддерживать возможность регистрации
заинтересованных слушателей.

DefinitionListener является одно из точек ветвления, поэтому должен
поддерживать механизмы обработки ошибок в слушателях. Это особенно важно, когда
второстепенный слушатель генерирует исключительную ситуацию, но есть понимание,
что эта ошибка либо несущественна, либо наведена условиями выполнения. 

Так же DefinitionListener должен обеспечивать максимальную прозрачность
обрабатываемых событий. Это должно быть выраженно как в журнализации событий,
так и возможности фильтрации отслеживаемых событий. Что важно для больших
моделей, когда событий много, и сбой происходит в конце обработки.

Дополнительной обязанностью DefinitionListener является публикация
синтетических событий, таких как начало и окончание построения модели.

Можно предусмотреть публикацию события окончания инициализации, с оповещением
всех подписчиков, о полученной конфигурации. На этой стадии возвожно
взаимодействие подписчиков для согласованной работы, а так же проверка
выполнения контрактов (к примеру, когда работа одного подписчика невозможна без
работы другого).

DefinitionSubscriber
=======================

DefinitionSubscriber это один из подписчиков DefinitionListener. Его задачей
является формирование артефакта, в ответ на события, поступающие от
DefinitionListener.  Артефактом может является как журнал вызовов, так и
построение графа на языке Dot. К таким же задачам относятся профилироавние,
сбор статистики и публикация событий в преобразованном виде.

ModelBuilder
========================

ModelBuilder является особым подписчиком для DefinitionListener. Это связанно с
тем, для работы Declarator требуется механизм построения объектов, являющихся
результатом вызова интерфейсных метовдов. 

Для упрощения работы DefinitionListener факт зависимости Declararator от
ModelBuilder лучше скрыть и предоставить возможность возврата значения без
участия DefinitionListener.

Результатом работы ModelBuilder является построение итоговой модели. 

ModelBuilder, обрабатывающий сигнатуры вызываемых методов со списком
параметров, и формирующий новый узел модели, с созданием объекта результата
вызывающег метода, должен быть построен на делегировании особенностей своей
работы стратегиям, накопителям и поисковикам. 

Таким образом это должен быть класс, обеспечивающий строкий порядок выполнения
шагов получения объекта результата вызова, и при этом делегировать выполение
этих шагов другим классам.

ModelBuilder в перспективе будет содержать очень сложную логику взаимодействия
делегатов. Тестирование должно быть тотальным.

Model
========================

Model является направленным графом, с узлами и ребрами помеченными тегами. 

Самым желательным ее свойством является возможность сериализации/десериализации и визуализации.

Способ построения модели ни как не влияет на ее дальнейшее использование.


Interpretator
========================

Interpretator позволяет получить срез модели в каком либо контексте.

Он больше всего похож на сито, которе извлекает из модели заранее заданную
информацию.

Результатом работы интерпретатора является конечный продукт. При этом продукт
может быть моделью для других интерпретаторов
